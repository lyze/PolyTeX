{"version":3,"file":"app.js","sources":["../../app/scripts/compilationservice.js","../../app/scripts/app.js","../../../../../../../app/bower_components/page/page.js","../../app/scripts/routes.js"],"sourcesContent":["/* global PDFTeX */\n\n// Workaround for texlivejs not using a promise dependency\nvar WrappedPromise = function () {\n  this.promise = new Promise((resolve, reject) => {\n    this.resolve = resolve;\n    this.reject = reject;\n  });\n}\nWrappedPromise.prototype.done = function (v) {\n  this.resolve(v);\n};\nWrappedPromise.prototype.then = function () {\n  return this.promise.then.apply(this.promise, arguments);\n};\n\nvar chain = function (funcs, args) {\n  var p = new WrappedPromise();\n  if (funcs.length === 0) {\n    p.done(args);\n  } else {\n    funcs[0].apply(null, args).then(function () {\n      funcs.splice(0, 1);\n      chain(funcs, arguments).then(function () {\n        p.done.apply(p, arguments);\n      });\n    });\n  }\n  return p;\n};\nwindow.promise = {Promise: WrappedPromise, chain: chain};\n\nexport default class CompilationService {\n  constructor() {\n    this.pdftex = new PDFTeX('bower_components/texlivejs/pdftex-worker.js');\n  }\n\n  /**\n   * Compiles the specified LaTeX source.\n   *\n   * @param {string} source the source code\n   * @param {outputAppender} callback a function (called potentially multiple\n   * times) that handles a line of compilation output.\n   * @return a promise that resolves to a PDF data URL\n   */\n  compile(source, outputAppender) {\n    this.pdftex.worker.terminate();\n    this.pdftex = new PDFTeX('bower_components/texlivejs/pdftex-worker.js');\n    var p = this.pdftex.set_TOTAL_MEMORY(80 * 1024 * 1024);\n    return p.then(() => {\n      this.pdftex.on_stdout = outputAppender;\n      this.pdftex.on_stderr = outputAppender;\n      return this.pdftex.compile(source);\n    });\n  }\n}\n","/* global Polymer */\n// Copyright David Xu, 2016\n'use strict';\nimport CompilationService from './compilationservice';\n\n\nconst compilationService = new CompilationService();\n\nvar app = document.querySelector('#app');\n\napp.a11yTarget = document.body;\n\napp.displayInstalledToast = () => {\n  // Check to make sure caching is actually enabledâ€”it won't be in the dev environment.\n  if (!Polymer.dom(document).querySelector('platinum-sw-cache').disabled) {\n    Polymer.dom(document).querySelector('#caching-complete').show();\n  }\n};\n\napp.endCloudIntegration = () => {\n  // no-op; actual implementation defined later when app is ready.\n};\n\napp.isCloudReady = cloudStatus =>\n  ['loading', 'unavailable', 'authorizing'].includes(cloudStatus);\n\napp.isCloudConnected = cloudStatus =>\n  app.isCloudReady(cloudStatus) || cloudStatus === 'unauthorized';\n\napp.isCloudFileConnected = cloudStatus =>\n  ['loaded', 'loaded-read-only', 'dirty', 'saving', 'saved'].includes(cloudStatus);\n\nconst editorHasCloudFile = () =>\n        ['loaded', 'loaded-read-only', 'dirty', 'saving', 'saved'].includes(app.cloudStatus);\n\n// Listen for template bound event to know when bindings have resolved and\n// content has been stamped to the page\napp.addEventListener('dom-change', () => {\n});\n\napp.filename = 'untitled.tex';\napp.isCompiling = false;\n\napp.codeMirrorOptions = {\n  mode: 'stex',\n  lineWrapping: true,\n  lineNumbers: true\n};\n\n\nwindow.addEventListener('WebComponentsReady', () => {\n  var filenameInput = Polymer.dom(document).querySelector('#filenameInput');\n\n  var editor = Polymer.dom(document).querySelector('#editor');\n  var generatePreviewButton = Polymer.dom(document).querySelector('#generatePreviewButton');\n  var compileProgress = Polymer.dom(document).querySelector('#compileProgress');\n  var previewIFrame = Polymer.dom(document).querySelector('#previewIFrame');\n  var preview = Polymer.dom(document).querySelector('#preview');\n  var compileProblemToast = Polymer.dom(document).querySelector('#compileProblemToast');\n  var compileLog = Polymer.dom(document).querySelector('#compileLog');\n  var compileLogTextArea = Polymer.dom(document).querySelector('#compileLogTextArea');\n\n  var apiErrorToast = Polymer.dom(document).querySelector('#apiErrorToast');\n\n  compileProblemToast.fitInto = preview;\n\n  app.updateFilename = (e, detail) => {\n    filenameInput.input.blur();\n    editor.rename(filenameInput.value);\n  };\n\n  compileLog.fitInto = preview;\n  app.toggleCompileLog = _ => {\n    compileLog.toggle();\n  };\n\n  generatePreviewButton.addEventListener('click', e => {\n    var startTime = new Date();\n    app.isCompiling = true;\n    if (app.compileStatus === 'in-progress') {\n      return;\n    }\n    app.compileStatus = 'in-progress';\n    console.log('Started compilation at ' + startTime);\n\n    compileLogTextArea.value = '';\n    compileLog.refit();\n    var outputListener = msg => {\n      // console.log(msg);\n      // Is this actually performant?\n      if (msg !== undefined && msg !== null) {\n        compileLogTextArea.value += msg + '\\n';\n        compileLog.refit();\n      }\n      // workaround for PDFTeX not using promises correctly\n      var errorRE = /Fatal error occurred, no output PDF file produced!$/;\n      if (errorRE.test(msg)) {\n        var endTime = new Date();\n        console.error(msg);\n        app.compilationError = msg;\n        app.isCompiling = false;\n        app.compileStatus = 'error';\n        console.log('Finished compilation at ' + endTime);\n        console.log('Execution time: ' + (endTime - startTime) + 'ms');\n      }\n    };\n\n    compilationService.compile(editor.getValue(), outputListener)\n      .then(pdfDataUrl => {\n        // workaround for PDFTeX not using promises correctly\n        console.log(pdfDataUrl);\n        if (!pdfDataUrl) {\n          app.compileStatus = 'error';\n          throw new Error('No PDF data URL');\n        }\n        var endTime = new Date();\n        app.isCompiling = false;\n\n        console.log('Finished compilation at ' + endTime);\n        console.log('Execution time: ' + (endTime - startTime) + 'ms');\n        if (pdfDataUrl) {\n          previewIFrame.setAttribute('src', pdfDataUrl);\n          app.compileStatus = 'ok';\n        } else {\n          previewIFrame.setAttribute('src', 'about:blank');\n          app.compileStatus = 'error';\n        }\n        compileProgress.style.display = 'none';\n      }).catch(e => {\n        // TODO: refactor this out\n        console.error(e);\n        app.compilationError = e.message;\n        app.isCompiling = false;\n        app.compileStatus = 'error';\n      });\n  });\n\n  var drawerPanel = Polymer.dom(document).querySelector('#drawerPanel');\n  app.doSaveItemAction = (...args) => {\n    if (editorHasCloudFile()) {\n      drawerPanel.closeDrawer();\n      app.doManualSave(...args);\n    }\n  };\n\n  // used by #helloWorldItem\n  app.doHelloWorld = () => {\n    if (editor.getValue() && !confirm('Do you really want to discard your changes?')) {\n      return;\n    }\n    editor.setValue('\\\\documentclass{article}\\n\\n\\\\begin{document}\\nHello, world!\\n\\\\end{document}');\n    drawerPanel.closeDrawer();\n  };\n\n  app.connectCloud = () => {\n    drawerPanel.closeDrawer();\n    if (app.fileId) {\n      editor.startCloudIntegration().then(_ => {\n        apiErrorToast.close();\n      });\n    } else {\n      editor.connectCloud().catch(_ => {\n        // no-op\n        // app.apiErrorMessage = 'Failed to connect to Google Drive.';\n      });\n    }\n  };\n\n  app.disconnectCloud = () => {\n    drawerPanel.closeDrawer();\n    editor.endCloudIntegration();\n  };\n\n  app.startCloudIntegration = () => {\n    editor.startCloudIntegration();\n  };\n\n  app.endCloudIntegration = () => {\n    app.webViewLink = null;\n    app.lastCloudModificationTime = null;\n    editor.endCloudIntegration();\n  };\n\n  editor.addEventListener('cloud-ready', () => {\n  });\n\n  editor.addEventListener('cloud-file-loaded', e => {\n    var {id, name, webViewLink, createdTime, modifiedTime} = e.detail.result;\n    if (createdTime) {\n      app.savedMessage = `Created ${name} at ${new Date(createdTime)}`;\n    }\n    if (modifiedTime) {\n      app.lastCloudModificationTime = new Date(modifiedTime);\n    }\n\n    app.doManualSave = (e, detail) => {\n      editor.save().then(\n        _ => app.savedMessage = `Saved ${name} at ${new Date()}`,\n        r => app.apiErrorMessage = r.error.message);\n      // workaround for e.preventDefault() for ctrl+s\n      if (detail.keyboardEvent) {\n        detail.keyboardEvent.preventDefault();\n      }\n    };\n  });\n\n}); // WebComponentsReady\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.page=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (process){\n  /* globals require, module */\n\n  'use strict';\n\n  /**\n   * Module dependencies.\n   */\n\n  var pathtoRegexp = require('path-to-regexp');\n\n  /**\n   * Module exports.\n   */\n\n  module.exports = page;\n\n  /**\n   * Detect click event\n   */\n  var clickEvent = ('undefined' !== typeof document) && document.ontouchstart ? 'touchstart' : 'click';\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var location = ('undefined' !== typeof window) && (window.history.location || window.location);\n\n  /**\n   * Perform initial dispatch.\n   */\n\n  var dispatch = true;\n\n\n  /**\n   * Decode URL components (query string, pathname, hash).\n   * Accommodates both regular percent encoding and x-www-form-urlencoded format.\n   */\n  var decodeURLComponents = true;\n\n  /**\n   * Base path.\n   */\n\n  var base = '';\n\n  /**\n   * Running flag.\n   */\n\n  var running;\n\n  /**\n   * HashBang option\n   */\n\n  var hashbang = false;\n\n  /**\n   * Previous context, for capturing\n   * page exit events.\n   */\n\n  var prevContext;\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {string|!Function|!Object} path\n   * @param {Function=} fn\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page('*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(/** @type {string} */ (path));\n      for (var i = 1; i < arguments.length; ++i) {\n        page.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      page['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      page.start(path);\n    }\n  }\n\n  /**\n   * Callback functions.\n   */\n\n  page.callbacks = [];\n  page.exits = [];\n\n  /**\n   * Current path being processed\n   * @type {string}\n   */\n  page.current = '';\n\n  /**\n   * Number of pages navigated to.\n   * @type {number}\n   *\n   *     page.len == 0;\n   *     page('/login');\n   *     page.len == 1;\n   */\n\n  page.len = 0;\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {string} path\n   * @api public\n   */\n\n  page.base = function(path) {\n    if (0 === arguments.length) return base;\n    base = path;\n  };\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  page.start = function(options) {\n    options = options || {};\n    if (running) return;\n    running = true;\n    if (false === options.dispatch) dispatch = false;\n    if (false === options.decodeURLComponents) decodeURLComponents = false;\n    if (false !== options.popstate) window.addEventListener('popstate', onpopstate, false);\n    if (false !== options.click) {\n      document.addEventListener(clickEvent, onclick, false);\n    }\n    if (true === options.hashbang) hashbang = true;\n    if (!dispatch) return;\n    var url = (hashbang && ~location.hash.indexOf('#!')) ? location.hash.substr(2) + location.search : location.pathname + location.search + location.hash;\n    page.replace(url, null, true, dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  page.stop = function() {\n    if (!running) return;\n    page.current = '';\n    page.len = 0;\n    running = false;\n    document.removeEventListener(clickEvent, onclick, false);\n    window.removeEventListener('popstate', onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} dispatch\n   * @param {boolean=} push\n   * @return {!Context}\n   * @api public\n   */\n\n  page.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state);\n    page.current = ctx.path;\n    if (false !== dispatch) page.dispatch(ctx);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {string} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object=} state\n   * @api public\n   */\n\n  page.back = function(path, state) {\n    if (page.len > 0) {\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      history.back();\n      page.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    }else{\n      setTimeout(function() {\n        page.show(base, state);\n      });\n    }\n  };\n\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {string} from - if param 'to' is undefined redirects to 'from'\n   * @param {string=} to\n   * @api public\n   */\n  page.redirect = function(from, to) {\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page(from, function(e) {\n        setTimeout(function() {\n          page.replace(/** @type {!string} */ (to));\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        page.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} init\n   * @param {boolean=} dispatch\n   * @return {!Context}\n   * @api public\n   */\n\n\n  page.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state);\n    page.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) page.dispatch(ctx);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n  page.dispatch = function(ctx) {\n    var prev = prevContext,\n      i = 0,\n      j = 0;\n\n    prevContext = ctx;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled(ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n\n    if (hashbang) {\n      current = base + location.hash.replace('#!', '');\n    } else {\n      current = location.pathname + location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    location.href = ctx.canonicalPath;\n  }\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  page.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return page.exit('*', path);\n    }\n\n    var route = new Route(path);\n    for (var i = 1; i < arguments.length; ++i) {\n      page.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {string} val - URL component to decode\n   */\n  function decodeURLEncodedURIComponent(val) {\n    if (typeof val !== 'string') { return val; }\n    return decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} state\n   * @api public\n   */\n\n  function Context(path, state) {\n    if ('/' === path[0] && 0 !== path.indexOf(base)) path = base + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    this.path = path.replace(base, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = document.title;\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = parts[0];\n      this.hash = decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Expose `Context`.\n   */\n\n  page.Context = Context;\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    page.len++;\n    history.pushState(this.state, this.title, hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    history.replaceState(this.state, this.title, hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} options\n   * @api private\n   */\n\n  function Route(path, options) {\n    options = options || {};\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathtoRegexp(this.path,\n      this.keys = [],\n      options);\n  }\n\n  /**\n   * Expose `Route`.\n   */\n\n  page.Route = Route;\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {string} path\n   * @param {Object} params\n   * @return {boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      var val = decodeURLEncodedURIComponent(m[i]);\n      if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n        params[key.name] = val;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * Handle \"populate\" events.\n   */\n\n  var onpopstate = (function () {\n    var loaded = false;\n    if ('undefined' === typeof window) {\n      return;\n    }\n    if (document.readyState === 'complete') {\n      loaded = true;\n    } else {\n      window.addEventListener('load', function() {\n        setTimeout(function() {\n          loaded = true;\n        }, 0);\n      });\n    }\n    return function onpopstate(e) {\n      if (!loaded) return;\n      if (e.state) {\n        var path = e.state.path;\n        page.replace(path, e.state);\n      } else {\n        page.show(location.pathname + location.hash, undefined, undefined, false);\n      }\n    };\n  })();\n  /**\n   * Handle \"click\" events.\n   */\n\n  function onclick(e) {\n\n    if (1 !== which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n\n\n    // ensure link\n    // use shadow dom when available\n    var el = e.path ? e.path[0] : e.target;\n    while (el && 'A' !== el.nodeName) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName) return;\n\n\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.hasAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if (!hashbang && el.pathname === location.pathname && (el.hash || '#' === link)) return;\n\n\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    if (el.target) return;\n\n    // x-origin\n    if (!sameOrigin(el.href)) return;\n\n\n\n    // rebuild path\n    var path = el.pathname + el.search + (el.hash || '');\n\n    // strip leading \"/[drive letter]:\" on NW.js on Windows\n    if (typeof process !== 'undefined' && path.match(/^\\/[a-zA-Z]:\\//)) {\n      path = path.replace(/^\\/[a-zA-Z]:\\//, '/');\n    }\n\n    // same page\n    var orig = path;\n\n    if (path.indexOf(base) === 0) {\n      path = path.substr(base.length);\n    }\n\n    if (hashbang) path = path.replace('#!', '');\n\n    if (base && orig === path) return;\n\n    e.preventDefault();\n    page.show(orig);\n  }\n\n  /**\n   * Event button.\n   */\n\n  function which(e) {\n    e = e || window.event;\n    return null === e.which ? e.button : e.which;\n  }\n\n  /**\n   * Check if `href` is the same origin.\n   */\n\n  function sameOrigin(href) {\n    var origin = location.protocol + '//' + location.hostname;\n    if (location.port) origin += ':' + location.port;\n    return (href && (0 === href.indexOf(origin)));\n  }\n\n  page.sameOrigin = sameOrigin;\n\n}).call(this,require('_process'))\n},{\"_process\":2,\"path-to-regexp\":3}],2:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canMutationObserver = typeof window !== 'undefined'\n    && window.MutationObserver;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    var queue = [];\n\n    if (canMutationObserver) {\n        var hiddenDiv = document.createElement(\"div\");\n        var observer = new MutationObserver(function () {\n            var queueList = queue.slice();\n            queue.length = 0;\n            queueList.forEach(function (fn) {\n                fn();\n            });\n        });\n\n        observer.observe(hiddenDiv, { attributes: true });\n\n        return function nextTick(fn) {\n            if (!queue.length) {\n                hiddenDiv.setAttribute('yes', 'no');\n            }\n            queue.push(fn);\n        };\n    }\n\n    if (canPost) {\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n\n},{}],3:[function(require,module,exports){\nvar isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {String} str\n * @return {Array}\n */\nfunction parse (str) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var suffix = res[6]\n    var asterisk = res[7]\n\n    var repeat = suffix === '+' || suffix === '*'\n    var optional = suffix === '?' || suffix === '*'\n    var delimiter = prefix || '/'\n    var pattern = capture || group || (asterisk ? '.*' : '[^' + delimiter + ']+?')\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: escapeGroup(pattern)\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {String}   str\n * @return {Function}\n */\nfunction compile (str) {\n  return tokensToFunction(parse(str))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^' + tokens[i].pattern + '$')\n    }\n  }\n\n  return function (obj) {\n    var path = ''\n    var data = obj || {}\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received \"' + value + '\"')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encodeURIComponent(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = encodeURIComponent(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {String} str\n * @return {String}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {String}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {RegExp} path\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {Array}  path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {String} path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  var tokens = parse(path)\n  var re = tokensToRegExp(tokens, options)\n\n  // Attach keys back to the regexp.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] !== 'string') {\n      keys.push(tokens[i])\n    }\n  }\n\n  return attachKeys(re, keys)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {Array}  tokens\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction tokensToRegExp (tokens, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n  var lastToken = tokens[tokens.length - 1]\n  var endsWithSlash = typeof lastToken === 'string' && /\\/$/.test(lastToken)\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = token.pattern\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (prefix) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)'\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 [keys]\n * @param  {Object}                [options]\n * @return {RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || []\n\n  if (!isarray(keys)) {\n    options = keys\n    keys = []\n  } else if (!options) {\n    options = {}\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys, options)\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(path, keys, options)\n  }\n\n  return stringToRegexp(path, keys, options)\n}\n\n},{\"isarray\":4}],4:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}]},{},[1])(1)\n});","// @license Copyright David Xu, 2016\n'use strict';\nimport page from 'page';\n\nwindow.addEventListener('WebComponentsReady', function () {\n  const app = Polymer.dom(document).querySelector('#app');\n\n  app.baseUrl = '/';\n  if (window.location.port === '') {  // if production\n    // Uncomment app.baseURL below and\n    // set app.baseURL to '/your-pathname/' if running from folder in production\n    app.baseUrl = '/PolyTeX/';\n  }\n\n  // Removes end / from app.baseUrl which page.base requires for production\n  if (window.location.port === '') {  // if production\n    page.base(app.baseUrl.replace(/\\/$/, ''));\n  }\n\n  page(app.baseUrl, () => {\n    app.route = 'editor';\n  });\n\n  page('/', () => {\n    app.route = 'editor';\n  });\n\n  page('/:fileId', ctx => {\n    app.fileId = ctx.params.fileId;\n    console.log(`Routing to open file: ${app.fileId}`);\n  });\n\n  page.start({\n    hashbang: true\n  });\n});\n"],"names":[],"mappings":"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"}